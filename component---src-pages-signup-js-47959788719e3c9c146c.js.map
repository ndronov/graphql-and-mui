{"version":3,"file":"component---src-pages-signup-js-47959788719e3c9c146c.js","mappings":"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","sources":["webpack://welcome-to-mars/./src/components/Button/button.module.css","webpack://welcome-to-mars/./src/components/Button/Button.js","webpack://welcome-to-mars/./src/components/Form/form.module.css","webpack://welcome-to-mars/./src/components/Form/Form.js","webpack://welcome-to-mars/./src/helpers/auth.js","webpack://welcome-to-mars/./src/helpers/forms.js","webpack://welcome-to-mars/./src/components/Form/useForm.js","webpack://welcome-to-mars/./src/components/Layout/Layout.js","webpack://welcome-to-mars/./src/components/Layout/layout.module.css","webpack://welcome-to-mars/./src/components/Seo/Seo.js","webpack://welcome-to-mars/./src/components/Input/Input.js","webpack://welcome-to-mars/./src/components/Input/input.module.css","webpack://welcome-to-mars/./src/api/http.js","webpack://welcome-to-mars/./src/components/SignUpForm/SignUpForm.js","webpack://welcome-to-mars/./src/api/SignUpAPI.js","webpack://welcome-to-mars/./src/components/SignInForm/SignInForm.js","webpack://welcome-to-mars/./src/api/SignInAPI.js","webpack://welcome-to-mars/./src/components/Toast/logic.js","webpack://welcome-to-mars/./src/components/Toast/toast.module.css","webpack://welcome-to-mars/./src/components/Toast/Toast.js","webpack://welcome-to-mars/./src/pages/signup.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport var button = \"button-module--button--07666\";\nexport var button_default = \"button-module--button_default--9cd41\";\nexport var button_outlined = \"button-module--button_outlined--cd2cd\";\nexport var container = \"button-module--container--1fadd\";\nexport var faSpin = \"button-module--fa-spin--f705e\";\nexport var linkAnchor = \"button-module--link-anchor--2ffe7\";","import React from 'react';\nimport { Link } from 'gatsby';\n\nimport * as styles from './button.module.css';\n\nexport function Button(props) {\n  const {\n    className = '',\n    disabled,\n    kind = 'default',\n    label,\n    onClick,\n    to,\n    type = 'button',\n  } = props;\n\n  const buttonKindStyle = styles[`button_${kind}`] ?? styles[`button_default`];\n\n  if (!to) {\n    return (\n      <button\n        className={`${styles.container} ${styles.button} ${buttonKindStyle} ${className}`}\n        disabled={disabled}\n        onClick={onClick}\n        type={type}\n      >\n        {label}\n      </button>\n    );\n  }\n\n  return (\n    <Link to={to} className={`${styles.container} ${className}`}>\n      <span\n        className={`${styles.container} ${styles.button} ${buttonKindStyle} ${styles.linkAnchor}`}\n      >\n        {label}\n      </span>\n    </Link>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport var form = \"form-module--form--1ed52\";\nexport var gap = \"form-module--gap--6ec13\";\nexport var modeChangeButton = \"form-module--mode-change-button--96f48\";\nexport var title = \"form-module--title--a5c2d\";","import React from 'react';\n\nimport * as styles from './form.module.css';\n\nexport function Form(props) {\n  const { children, title, onSubmit } = props;\n\n  return (\n    <form className={styles.form} onSubmit={onSubmit} noValidate>\n      <h1 className={styles.title}>{title}</h1>\n      {children}\n    </form>\n  );\n}\n","import { showToast } from '../components';\n\nconst DEFAULT_SUCCESS_MESSAGE = 'Welcome!';\nconst DEFAULT_FAILURE_MESSAGE = 'Error';\n\nexport function handleAuthSuccess(payload) {\n  const message = payload.message ?? DEFAULT_SUCCESS_MESSAGE;\n\n  showToast({\n    kind: 'success',\n    message,\n    onHide: goToMars,\n  });\n}\n\nexport function handleAuthFailure(payload) {\n  const message = payload.message ?? DEFAULT_FAILURE_MESSAGE;\n\n  showToast({\n    kind: 'error',\n    message,\n  });\n}\n\nexport function goToMars() {\n  window.location = 'https://mars.com/';\n}\n","export function getSubmittedFormData(submitEvent) {\n  const formData = new FormData(submitEvent.target);\n  const nonEmptyFields = {};\n\n  for (const [fieldName, fieldValue] of formData.entries()) {\n    const isEmpty = fieldValue instanceof File ? !fieldValue.size : !fieldValue;\n\n    if (isEmpty) continue;\n\n    nonEmptyFields[fieldName] = fieldValue;\n  }\n\n  return nonEmptyFields;\n}\n\nconst FIELD_REQUIREMENT_ERROR = 'Enter a value';\nconst FIELDS_EQUALITY_ERROR = 'Values did not match';\n\nexport function validateRequiredFields(inputs) {\n  const errors = {};\n\n  for (const input of inputs) {\n    if (input.required && !input.value) {\n      errors[input.name] = FIELD_REQUIREMENT_ERROR;\n      continue;\n    }\n\n    delete errors[input.name];\n  }\n\n  return errors;\n}\n\nexport function makeFieldsEqualityValidator(name1, name2) {\n  return function validateFieldsEquality(inputs) {\n    const field1 = inputs.find((i) => i.name === name1);\n    const field2 = inputs.find((i) => i.name === name2);\n\n    if (field1?.value === field2?.value) {\n      return {};\n    }\n\n    return { [name2]: FIELDS_EQUALITY_ERROR };\n  };\n}\n\nexport const defaultFormValidators = [validateRequiredFields];\n","import { useCallback, useState } from 'react';\n\nimport { getSubmittedFormData, defaultFormValidators } from '../../helpers';\n\nexport function useForm(args = {}) {\n  const {\n    validators = [],\n    onSubmit: handleSubmit,\n    onSuccess,\n    onFailure,\n  } = args;\n  const [errors, setErrors] = useState({});\n  const [pending, setPending] = useState(false);\n\n  const onFocus = useCallback((e) => {\n    setErrors((current) => ({ ...current, [e.target.name]: null }));\n  }, []);\n\n  const validate = useCallback(\n    (e) => {\n      const rawInputs = e.target.getElementsByTagName('input');\n      const inputs = Array.from(rawInputs);\n\n      const allValidators = [...defaultFormValidators, ...validators];\n      const validationErrors = allValidators.reduceRight(\n        (current, validator) => ({ ...current, ...validator(inputs) }),\n        {}\n      );\n\n      setErrors(validationErrors);\n\n      const isValid = Object.keys(validationErrors).length === 0;\n\n      return isValid;\n    },\n    [validators]\n  );\n\n  const onSubmit = useCallback(\n    async (e) => {\n      e.preventDefault();\n\n      const isValid = validate(e);\n\n      if (!isValid) return;\n\n      setPending(true);\n\n      const data = getSubmittedFormData(e);\n      const response = await handleSubmit(data);\n\n      if (!response.success) {\n        setPending(false);\n        onFailure(response.payload);\n\n        return;\n      }\n\n      onSuccess(response.payload);\n    },\n    [validate, handleSubmit, onFailure, onSuccess]\n  );\n\n  return { errors, pending, onFocus, onSubmit };\n}\n","import React from 'react';\n\nimport './global.css';\nimport * as styles from './layout.module.css';\n\nexport function Layout(props) {\n  const { children } = props;\n\n  return <main className={styles.container}>{children}</main>;\n}\n","// extracted by mini-css-extract-plugin\nexport var container = \"layout-module--container--66d73\";","import React from 'react';\n\nexport function Seo(props) {\n  const { title, children } = props;\n\n  return (\n    <>\n      <meta property=\"og:locale\" content=\"en_US\" />\n      <meta property=\"og:type\" content=\"website\" />\n      <meta property=\"og:title\" content=\"Welcome to Mars\" />\n      <meta\n        property=\"og:description\"\n        content=\"Mars teleport authentication form\"\n      />\n      <meta\n        property=\"og:image\"\n        content=\"https://www.nasa.gov/sites/default/files/styles/image_card_4x3_ratio/public/thumbnails/image/pia20282-full.jpg\"\n      />\n      <meta\n        property=\"og:url\"\n        content=\"https://ndronov.github.io/welcome-to-mars/\"\n      />\n\n      <title>{title}</title>\n\n      {children}\n    </>\n  );\n}\n","import React from 'react';\n\nimport * as styles from './input.module.css';\n\nexport function Input(props) {\n  const {\n    autoComplete,\n    disabled,\n    error,\n    label,\n    name,\n    onFocus,\n    required,\n    type,\n  } = props;\n\n  return (\n    <label className={styles.container}>\n      {label}\n\n      <input\n        autoComplete={autoComplete}\n        className={styles.input}\n        disabled={disabled}\n        name={name}\n        onFocus={onFocus}\n        required={required}\n        type={type}\n      />\n\n      {error && <span className={styles.error}>{error}</span>}\n    </label>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport var container = \"input-module--container--06e11\";\nexport var error = \"input-module--error--c56a0\";\nexport var input = \"input-module--input--20e43\";","export function hitOrMiss() {\n  return Math.random() * 100 > 42;\n}\n","import * as React from 'react';\n\nimport { Input } from '../Input';\nimport { Button } from '../Button';\nimport { Form, useForm } from '../Form';\n\nimport { SignUpAPI } from '../../api';\nimport {\n  makeFieldsEqualityValidator,\n  handleAuthSuccess,\n  handleAuthFailure,\n} from '../../helpers';\n\nimport * as formStyles from '../Form/form.module.css';\n\nconst args = {\n  validators: [makeFieldsEqualityValidator('password', 'confirmPassword')],\n  onSubmit: SignUpAPI,\n  onSuccess: handleAuthSuccess,\n  onFailure: handleAuthFailure,\n};\n\nexport function SignUpForm() {\n  const { errors, pending, onSubmit, onFocus } = useForm(args);\n\n  return (\n    <Form onSubmit={onSubmit} title=\"Sign up\">\n      <Input\n        disabled={pending}\n        error={errors.email}\n        label=\"Email\"\n        name=\"email\"\n        onFocus={onFocus}\n        required\n        type=\"email\"\n      />\n\n      <Input\n        autoComplete=\"new-password\"\n        disabled={pending}\n        error={errors.password}\n        label=\"Password\"\n        name=\"password\"\n        onFocus={onFocus}\n        required\n        type=\"password\"\n      />\n\n      <Input\n        autoComplete=\"new-password\"\n        disabled={pending}\n        error={errors.confirmPassword}\n        label=\"Confirm\"\n        name=\"confirmPassword\"\n        onFocus={onFocus}\n        required\n        type=\"password\"\n      />\n\n      <div className={formStyles.gap} />\n\n      <Button disabled={pending} label=\"Sign up\" type=\"submit\" />\n\n      <Button\n        className={formStyles.modeChangeButton}\n        kind=\"outlined\"\n        label=\"Already have an account\"\n        to=\"/\"\n      />\n    </Form>\n  );\n}\n","import { hitOrMiss } from './http';\n\nexport async function SignUpAPI(_args) {\n  const response = hitOrMiss()\n    ? {\n        success: true,\n        payload: {\n          message: 'Account has been created successfully. Welcome to Mars!',\n        },\n      }\n    : {\n        success: false,\n        payload: {\n          message: 'Failed to create an account, please try again later',\n        },\n      };\n\n  return new Promise((resolve) => {\n    setTimeout(() => resolve(response), 420);\n  });\n}\n","import React from 'react';\n\nimport { Input } from '../Input';\nimport { Button } from '../Button';\nimport { Form, useForm } from '../Form';\n\nimport { SignInAPI } from '../../api';\nimport { handleAuthSuccess, handleAuthFailure } from '../../helpers';\n\nimport * as formStyles from '../Form/form.module.css';\n\nconst args = {\n  onSubmit: SignInAPI,\n  onSuccess: handleAuthSuccess,\n  onFailure: handleAuthFailure,\n};\n\nexport function SignInForm() {\n  const { errors, pending, onSubmit, onFocus } = useForm(args);\n\n  return (\n    <Form onSubmit={onSubmit} title=\"Sign in\">\n      <Input\n        disabled={pending}\n        error={errors.email}\n        id=\"email\"\n        label=\"Email\"\n        name=\"email\"\n        onFocus={onFocus}\n        required\n        type=\"email\"\n      />\n\n      <Input\n        disabled={pending}\n        error={errors.password}\n        id=\"password\"\n        label=\"Password\"\n        name=\"password\"\n        onFocus={onFocus}\n        required\n        type=\"password\"\n      />\n\n      <div className={formStyles.gap} />\n\n      <Button disabled={pending} label=\"Sign in\" type=\"submit\" />\n\n      <Button\n        className={formStyles.modeChangeButton}\n        kind=\"outlined\"\n        label=\"Create account\"\n        to=\"signup\"\n      />\n    </Form>\n  );\n}\n","import { hitOrMiss } from './http';\n\nexport async function SignInAPI(_args) {\n  const response = hitOrMiss()\n    ? {\n        success: true,\n        payload: {\n          message:\n            'You have successfully logged in. Now you will be moved to Mars.',\n        },\n      }\n    : {\n        success: false,\n        payload: {\n          message: 'Login error, please check your credentials',\n        },\n      };\n\n  return new Promise((resolve) => {\n    setTimeout(() => resolve(response), 420);\n  });\n}\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\n\nimport { Toast } from './Toast';\n\nexport function showToast(args) {\n  const { root, container } = createToastRoot();\n\n  function hide(onHide) {\n    setTimeout(() => {\n      root.unmount();\n      container.remove();\n      onHide?.();\n    }, TRANSITION_TIMEOUT);\n  }\n\n  root.render(<Toast {...args} hide={hide} />);\n}\n\nexport function createToastRoot() {\n  const container = document.createElement('div');\n\n  document.body.append(container);\n\n  const root = createRoot(container);\n\n  return { root, container };\n}\n\nexport const TRANSITION_TIMEOUT = 1000;\nexport const AUTO_CLOSE_TIMEOUT = 5000;\n","// extracted by mini-css-extract-plugin\nexport var toast = \"toast-module--toast--ffa1a\";\nexport var toast_default = \"toast-module--toast_default--2b2b6\";\nexport var toast_error = \"toast-module--toast_error--5ebb8\";\nexport var toast_hidden = \"toast-module--toast_hidden--7ef06\";\nexport var toast_success = \"toast-module--toast_success--34c38\";\nexport var toast_visible = \"toast-module--toast_visible--be4a8\";","import React, { useEffect, useState } from 'react';\n\nimport { AUTO_CLOSE_TIMEOUT } from './logic';\n\nimport * as styles from './toast.module.css';\n\nexport function Toast(props) {\n  const { message, kind, hide, onHide } = props;\n  const [visible, setVisible] = useState(false);\n\n  const toastKindStyle = styles[`toast_${kind}`] ?? styles[`toast_default`];\n  const toastVisibilityStyle = visible\n    ? styles.toast_visible\n    : styles.toast_hidden;\n\n  useEffect(() => {\n    const showCallback = requestAnimationFrame(() => setVisible(true));\n\n    const hideCallback = setTimeout(() => {\n      setVisible(false);\n      hide(onHide);\n    }, AUTO_CLOSE_TIMEOUT);\n\n    return () => {\n      cancelAnimationFrame(showCallback);\n      clearTimeout(hideCallback);\n    };\n  }, [onHide, hide]);\n\n  return (\n    <div\n      className={`${styles.toast} ${toastKindStyle} ${toastVisibilityStyle}`}\n    >\n      {message}\n    </div>\n  );\n}\n","import React from 'react';\n\nimport { Seo, Layout, SignUpForm } from '../components';\n\nfunction SignUpPage() {\n  return (\n    <Layout>\n      <SignUpForm />\n    </Layout>\n  );\n}\n\nexport function Head() {\n  return <Seo title=\"Sign up\" />;\n}\n\nexport default SignUpPage;\n"],"names":["button_default","button_outlined","container","faSpin","linkAnchor","Button","props","className","disabled","kind","label","onClick","to","type","buttonKindStyle","styles","Link","gap","modeChangeButton","Form","children","title","onSubmit","noValidate","handleAuthSuccess","payload","showToast","message","onHide","goToMars","handleAuthFailure","window","location","defaultFormValidators","inputs","errors","input","required","value","name","useForm","args","validators","handleSubmit","onSuccess","onFailure","setErrors","useState","pending","setPending","onFocus","useCallback","e","current","target","validate","rawInputs","getElementsByTagName","Array","from","validationErrors","reduceRight","validator","Object","keys","length","async","preventDefault","data","submitEvent","formData","FormData","nonEmptyFields","fieldName","fieldValue","entries","File","size","getSubmittedFormData","response","success","Layout","Seo","property","content","Input","autoComplete","error","hitOrMiss","Math","random","name1","name2","field1","find","i","field2","_args","Promise","resolve","setTimeout","SignUpForm","email","password","confirmPassword","formStyles","SignInForm","id","root","document","createElement","body","append","createRoot","createToastRoot","render","Toast","hide","unmount","remove","TRANSITION_TIMEOUT","toast","toast_default","toast_error","toast_hidden","toast_success","toast_visible","visible","setVisible","toastKindStyle","toastVisibilityStyle","useEffect","showCallback","requestAnimationFrame","hideCallback","cancelAnimationFrame","clearTimeout","Head"],"sourceRoot":""}